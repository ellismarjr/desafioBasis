<div id="content">
  <header>
    <strong>Gerenciamento de Empresas</strong>
    <button type="button" (click)="openModal(cadEmpresa)">CADASTRAR</button>
  </header>

  <div
    *ngIf="!isEmpty; then isNotEmptyEmpresa; else isEmptyEmpresa"
    class="container"
  ></div>
</div>

<ng-template #cadEmpresa>
  <form class="needs-validation" novalidate [formGroup]="form">
    <strong>Cadastro de Empresa</strong>
    <input
      type="text"
      class="form-control"
      id="nome"
      formControlName="nome"
      placeholder="Nome da empresa"
      autofocus
    />
    <input
      type="text"
      placeholder="Endereço"
      class="form-control"
      id="endereco"
      formControlName="endereco"
    />
    <input
      type="text"
      class="form-control"
      id="cnpj"
      formControlName="cnpj"
      placeholder="Ex. 00.000.000/0000-000"
      [textMask]="{ mask: mask }"
      [(ngModel)]="myModel"
    />

    <footer>
      <button class="salvar" type="button" (click)="onSubmit()">
        Salvar
      </button>
      <button class="sair" type="button" (click)="cadModalRef.hide()">
        Fechar
      </button>
    </footer>
  </form>
</ng-template>

<ng-template #isEmptyEmpresa>
  <div class="alert alert-secondary" role="alert">
    <h4 class="alert-heading"></h4>
    <p>
      Nenhuma empresa cadastrada até o momento!
    </p>
  </div>
</ng-template>

<ng-template #isNotEmptyEmpresa>
  <ul>
    <section *ngFor="let empresa of empresas">
      <li (click)="onUpdate(empresa.id)">
        <strong>{{ empresa.nome }}</strong>

        <img src="../../assets/next.png" alt="" />
      </li>
    </section>
    <!-- <footer>
      <button type="button">Anterior</button>
      <button type="button">Próxima</button>
    </footer> -->
  </ul>
</ng-template>
