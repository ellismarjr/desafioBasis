<div id="content">
  <header>
    <strong>Gerenciamento de Funcionários</strong>
    <button type="button" (click)="openModal(cadEmpresa)">CADASTRAR</button>
  </header>

  <div
    *ngIf="!isEmpty; then isNotEmptyEmpresa; else isEmptyEmpresa"
    class="container"
  ></div>
</div>

<ng-template #cadEmpresa>
  <form
    autocomplete="off"
    class="needs-validation"
    novalidate
    [formGroup]="formFunc"
  >
    <strong>Cadastro de Funcionário</strong>
    <input
      type="text"
      class="form-control"
      id="nome"
      formControlName="nome"
      placeholder="Nome completo"
    />
    <input
      type="date"
      placeholder="Data de Nascimento"
      class="form-control"
      id="dataNascimento"
      formControlName="dataNascimento"
    />
    <input
      type="text"
      class="form-control"
      id="cpf"
      formControlName="cpf"
      placeholder="Ex. 000.000.000-00"
      [textMask]="{ mask: mask }"
    />

    <select class="form-control" id="empresaId" formControlName="empresaId">
      <option *ngFor="let empresa of empresas" [value]="empresa.id">{{
        empresa.nome
      }}</option>
    </select>

    <footer>
      <button class="salvar" type="button" (click)="onSubmit()">
        Salvar
      </button>
      <button class="sair" type="button" (click)="cadModalRef.hide()">
        Fechar
      </button>
    </footer>
  </form>
</ng-template>

<ng-template #editarModal>
  <form
    autocomplete="off"
    class="needs-validation"
    novalidate
    [formGroup]="formFunc"
  >
    <strong>Atualização de Funcionários</strong>
    <input
      type="text"
      placeholder="Nome da empresa"
      type="text"
      class="form-control"
      id="nome"
      formControlName="nome"
    />
    <input type="text" placeholder="Endereço" />
    <input type="text" placeholder="CNPJ" />
  </form>

  <footer>
    <button class="salvar" type="button" (click)="onSubmit()">
      Salvar
    </button>
    <button class="sair" type="button" (click)="editarModalRef.hide()">
      Fechar
    </button>
  </footer>
</ng-template>

<ng-template #isEmptyEmpresa>
  <div class="alert alert-secondary" role="alert">
    <h4 class="alert-heading"></h4>
    <p>
      Nenhuma empresa cadastrada até o momento!
    </p>
  </div>
</ng-template>

<ng-template #isNotEmptyEmpresa>
  <ul>
    <section *ngFor="let funcionario of funcionarios">
      <li (click)="onUpdate(funcionario.id)">
        <strong>{{ funcionario.nome }}</strong>
        <img src="../../assets/next.png" alt="" />
      </li>
    </section>
    <!-- <footer>
      <button type="button">Anterior</button>
      <button type="button">Próxima</button>
    </footer> -->
  </ul>
</ng-template>
